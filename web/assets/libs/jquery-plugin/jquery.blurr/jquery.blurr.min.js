/*! jquery.blurr @ 03-08-2014 12:08 - Copyright 2014 Tom Hallam - MIT Licenced  >*/
define("jquery-plugin/jquery.blurr/jquery.blurr.min",["$"],function(a){!function(a,b,c,d){function e(e,h,i){this.$el=a(e),this.settings=a.extend({},g,h),this._defaults=g,this._name=f,this.cssPrefix=null,this.tpl='<svg><defs><filter id="blrIMG{{i}}"><feGaussianBlur id="filter_1" stdDeviation="{{sharpness}}" data-filterid="1"></feGaussianBlur><feComponentTransfer><feFuncR type="linear" slope="0.8"></feFuncR><feFuncG type="linear" slope="0.8"></feFuncG><feFuncB type="linear" slope="0.8"></feFuncB></feComponentTransfer></filter></defs><image x="{{offsetX}}" y="{{offsetY}}" width="100%" height="100%" xlink:href="{{href}}" filter="url(#blrIMG{{i}})" preserveAspectRatio="xMidYMid slice"></image></svg>',this.elementCount=i,this.supportsFilter="undefined"!=typeof SVGFEColorMatrixElement&&2===SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE,this.supportsFilter=b.location.hash.length>0;var j=" -webkit- -moz- -o- -ms- ".split(" "),k={};if(_cssPrefix=function(a){if(k[a]||""===k[a])return k[a]+a;var b=c.createElement("div"),d=["","Moz","Webkit","O","ms","Khtml"];for(var e in d)if("undefined"!=typeof b.style[d[e]+a])return k[a]=d[e],d[e]+a;return a.toLowerCase()},this.support={cssfilters:function(){var a=c.createElement("div");return a.style.cssText=j.join("filter:blur(2px); "),!!a.style.length&&(c.documentMode===d||c.documentMode>9)}(),svgfilters:function(){var a=!1;try{a="undefined"!=typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(b){}return a}()},!this.support.cssfilters&&!this.support.svgfilters&&"function"==typeof this.settings.unsupportedCallback)return this.settings.unsupportedCallback.call(this);this.cssPrefix=_cssPrefix("filter");var l=c.getElementsByTagName("body")[0];b.onscroll=function(){l.style.visibility="hidden",l.offsetHeight,body.style.visibility="visible"},this.init()}var f="blurr",g={offsetX:0,offsetY:0,sharpness:40,height:300,divBG:"#000",callback:function(){},unsupportedCallback:function(){}};a.extend(e.prototype,{init:function(){var a,b,c,d,e,f;return a=this.settings.href,b=this.settings.offsetX,c=this.settings.offsetY,d=this.settings.sharpness,e=this.settings.callback,f=this.settings.height,this.$el.data("image")&&(a=this.$el.data("image")),this.$el.data("href")&&(a=this.$el.data("href")),this.$el.data("offsetx")&&(b=this.$el.data("offsetx")),this.$el.data("offsety")&&(c=this.$el.data("offsety")),this.$el.data("sharpness")&&(d=this.$el.data("sharpness")),"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=0),d="undefined"==typeof d||0===d.length||0>d||d>100?d>100?100:40:100-d,("undefined"==typeof f||0===d.length||0>d)&&(f=300),this.$el.addClass("has-blurr"),this.support.svgfilters&&!this.support.cssfilters?this.renderSVG(a,b,c,d,f,e):this.renderCSSFilter(a,b,c,d,f,e)},renderSVG:function(b,c,d,e,f,g){var h=this.tpl;h=h.replace("{{href}}",b),h=h.replace("{{offsetX}}",c),h=h.replace("{{offsetY}}",d),h=h.replace("{{sharpness}}",e),h=h.replace(/{{i}}/g,this.elementCount),a(h).appendTo(this.$el),this.$el.css({height:f,overflow:"hidden",background:"#000"}),this.$el.find("svg").css({"min-width":"110%","min-height":"110%","-webkit-transform":"translate3d(-50px, 0px, 75px) scale(1.25)",transform:"translate3d(-50px, 0px, 75px) scale(1.25)",position:"relative",right:0,left:0}),this.$el.find("div:first").css({position:"absolute",left:0,right:0,"z-index":100}),"function"==typeof g&&g.call(this,b,c,d,e)},renderCSSFilter:function(b,c,d,e,f){this.$el.css({height:f,overflow:"hidden",position:"relative",background:"#000"});var g;g=c&&d?c+"px "+d+"px":c&&!d?c+"px center":!c&&d?"center "+d+"px":"center center";var h=a('<div class="blurr-bg"></div>').css({background:"url("+b+")",left:0,right:0,top:-50,bottom:-50,width:this.$el.width(),"background-size":"150% auto","background-position":g,"-webkit-filter":"blur("+e+"px)","z-index":50,position:"absolute"}).prependTo(this.$el),i=this.cssPrefix;this.support.cssfilters?h[0].style[i]="blur("+e+"px)":(h[0].style[i]='progid:DXImageTransform.Microsoft.Blur(PixelRadius="100")',h.css({top:-250,left:-200,opacity:.8}),this.$el.css({background:"#fff"})),this.$el.find("> div").not(".blurr-bg").css({position:"absolute",left:0,right:0,"z-index":100})}}),a.fn[f]=function(b){return this.each(function(c){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b,c))}),this}}(jQuery,window,document);});